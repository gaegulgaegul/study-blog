# 아이템 21. 인터페이스는 구현하는 쪽을 생각해 설계하라

- 디폴트 메서드
    - 디폴트 메서드를 선언하면 해당 인터페이스를 구현한 후 재정의하지 않으면 모든 클래스에서 디폴트 구현이 쓰이게 된다.
    - 생각할 수 있는 모든 상황에서 불변식을 해치지 않는 디폴트 메서드를 작성하기 어렵다.
        - 자바 8 Collection 인터페이스의 removeIf
            - Predicate가 true인 모든 원소를 제거한다.
            - 디폴트 구현은 반복자를 통해 순회되고 각 원소를 Predicate에 넣어 실행한다.
            - 모든 Collection 구현체와 어울리는 메서드는 아니다.
        - apache commons lib SynchronizedCollection
            - 클라이언트가 제공한 객체로 락을 거는 능력 추가
            - 모든 메서드에서 주어진 락 객체로 동기화한 후 내부 컬렉션 객체에 기능을 위임하는 래퍼 클래스
        - removeIf는 SynchronizedCollection에서 재정의 되지 않았다.
            - SynchronizedCollection에서 removeIf의 구현은 동기화에 관해 락 객체를 사용할 수 없다.
    - 기존 구현체에 런타임 오류를 일으킬 수 있다.
        - 기존 인터페이스에디폴트 메서드로 새 메서드를 추가하는 일은 꼭 필요한 경우가 아니면 피해야 한다.
        - 새로운 인터페이스를 문드는 경우라면 표준적인 메서드를 제공하는 유용한 수단이다.
- 디폴트 메서드가 있더라고 인터페이스 설계는 세심한 주의를 기울여야 한다.
    - 인터페이스 릴리즈 전 다른 방식으로 최소한 세 가지 구현은 해야한다.